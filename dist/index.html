<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><style type="text/css">*,:after,:before{box-sizing:border-box}*{margin:0;padding:0}ol[role=list],ul[role=list]{list-style:none}html:focus-within{scroll-behavior:smooth}a:not([class]){text-decoration-skip-ink:auto}canvas,img,picture,svg,video{background-repeat:no-repeat;background-size:cover;font-style:italic;height:auto;max-width:100%;vertical-align:middle}button,input,select,textarea{font:inherit}@media (prefers-reduced-motion:reduce){html:focus-within{scroll-behavior:auto}*,:after,:before{animation-duration:.01ms!important;animation-iteration-count:1!important;scroll-behavior:auto!important;transition:none;transition-duration:.01ms!important}}body,html{height:100%;height:100vh;image-rendering:pixelated;margin:0;padding:0;scroll-behavior:smooth;width:100vw}body{align-items:flex-start;background-color:#00f;display:flex;flex-direction:column;justify-content:flex-start}#game{border:1px solid #ff0;height:100%;margin:auto;width:100%}@keyframes parpadeo{0%,to{opacity:1}50%{opacity:0}}#titleText{animation:parpadeo 1s infinite}</style></head><body><div id="menus"><div id="renders"></div></div><canvas id="game"></canvas><script type="text/javascript">!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){},,function(e,t,n){},,function(e,t,n){"use strict";function r(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}n.r(t);let o={tw:32,th:64},i=16,a={SPACE:32,DOWN:40},d=1/60,c=document.getElementById("game"),l=c.getContext("2d"),s=c.width=o.tw*i,u=c.height=o.th*i,m=new Image;m.src="src/image_edit.png",m.onload=function(){l.imageSmoothingEnabled=!1};const p=[0,1,2,3];var y={},f=[],g=e=>Math.floor(e/i),h=(e,t)=>{return f[e+t*o.tw]};function v(e,t,n){switch(t){case a.SPACE:if(S)return n||function(){const e=(y.orientation+1)%4;y.orientation=p[e]}(),e.preventDefault(),!1;case a.DOWN:return void I()}}function x(){S&&w(y.orientation),function(){let e=Math.floor(y.x/i)-4,t=Math.floor(y.y/i)-4;l.clearRect(0,0,s,u),function({ctx:e,cameraX:t,cameraY:n,viewW:r,viewH:o}){for(var a=n;a<n+o;a++)for(var d=t;d<t+r;d++){var c=h(d,a,!1);0===c?e.drawImage(m,0,0,i,i,d*i,a*i,i,i):c&&e.drawImage(m,(c-1)*i,0,i,i,d*i,a*i,i,i)}}({ctx:l,cameraX:e,cameraY:t,viewW:8,viewH:8}),function(e){var t="right"===y.orientation?12:11;e.drawImage(m,t*i,0,i,i,y.x,y.y,i,i)}(l)}()}const w=e=>{let t=y.x,n=y.y;switch(function(e){const t=Math.round(e.y);t>=i*(o.th-1)?I():t<=0&&(y.orientation=2,e.y=.5)}(y),e){case 0:((e,t)=>{const n=h(g(t.x),g(e)),r=h(g(t.x+i-2),g(e));return 0!==n||0!==r})(n-=1,y)?y.orientation=2:y.y=n;break;case 2:((e,t)=>{const n=h(g(t.x),g(e+i-2)),r=h(g(t.x+i-2),g(e+i-2));return 0!==n||0!==r})(n+=1,y)?y.orientation=0:y.y=n;break;case 1:((e,t)=>{const n=h(g(e),g(t.y)),r=h(g(e),g(t.y+i-2));return 0!==n||0!==r})(t-=1,y)?y.orientation=3:y.x=t;break;case 3:((e,t)=>{const n=h(g(e+i-2),g(t.y)),r=h(g(e+i-2),g(t.y+i-2));return 0!==n||0!==r})(t+=1,y)?y.orientation=1:y.x=t}};function A(e){return e.properties||(e.properties={}),{x:e.x,y:e.y,player:"player"==e.type,type:e.properties.type,orientation:e.orientation,start:{x:e.x,y:e.y}}}var b,k=0,E=r();new AudioContext;var B={mapping:{a:0,b:3,c:6,d:9,e:12,f:15,g:18,h:21,i:24,j:27,k:30,l:33,m:36,n:39,o:42,p:45,q:48,r:51,s:54,t:57,u:60,v:63,w:66,x:69,y:72,z:75,0:78,1:81,2:84,3:87,4:90,5:93,6:96,7:99,8:102,9:105," ":108},generateWord:e=>{for(var t=e.length,n=[],r=0;r<t;r++)n.push(B.mapping[e[r]]);return n},titleText:e=>{var t=document.getElementById("renders"),n=document.createElement("div");n.setAttribute("style","position: absolute; top: 10px; right: 0; left: 0;"),n.id="titleText",t.appendChild(n),e.forEach(e=>{var t=B.createSpan(e,2,40);n.appendChild(t)},void 0)},button:(e,t,n={})=>{var r=document.getElementById("renders"),o=document.createElement("div");o.setAttribute("style","position: absolute; top: 60px; left: 10px; opacity: 1; animation: fadeinout 1s infinite;"),o.id=t,r.appendChild(o),e.forEach(e=>{var t=B.createSpan(e,4,15);o.appendChild(t)},void 0)},text:(e,t,n,r)=>{var o=document.getElementById("renders"),i=document.createElement("div");i.setAttribute("style","position: absolute; top: 0; right: 0; left: 0; bottom: 0; margin: auto; width: "+n+"px; height: 28px;"),i.id=t,o.appendChild(i),e.forEach(e=>{var t=B.createSpan(e,r.scale,r.margin);i.appendChild(t)},void 0)},createSpan:(e,t=1,n=0)=>{var r=document.createElement("div");return r.setAttribute("style","transform: scale("+t+"); margin-left: "+n+"px; image-rendering: pixelated; image-rendering: optimizespeed; image-rendering: crisp-edges; display: inline-block; height: 5px; width: 3px; background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG8AAAAFAQMAAABxZCAfAAAABlBMVEX+/v4AAAAbQk4OAAAAU0lEQVQI12NYJqAkabJyGcskhwABBj4Gz2W3dhoIeV6ZFBk7uVKPgXWBwI4Ngk5XWrcGMkiAZC+tNBFmD3VaG74tMo/BTeCRKMvqjptBCwIMJPgAufkZ1sWwKkAAAAAASUVORK5CYII=) -"+e+"px 0;"),r}},C={startScreen:()=>{var e=B.generateWord("press space to play");B.button(e,"playButton");var t=B.generateWord("ovni raya perd ido.");B.titleText(t)},showIntroScreen:()=>{var e=B.generateWord("perdimos el control del platillo volante");B.introText(e,"top",190,"row1")},gameOver:()=>{var e=B.generateWord("game over");B.text(e,"gameOver",280,{scale:6,margin:25})},endGame:()=>{var e=B.generateWord("congratulations");B.endGameTitle(e);var t=B.generateWord("gems are on safe");B.text(t,"endGameSubtitle",305,{scale:4,margin:15});var n=B.generateWord("by samirh");B.madeByText(n)},showCanvas:()=>{document.getElementById("game").style.display="block"},removeText:e=>{var t=document.getElementById(e);console.log(t),t&&(console.log(t),t.remove())}};function M(){const e=o.tw,t=o.th,n=function(e,t,n,r){function o(){return Math.floor(9*Math.random())+2}const i=Array.from({length:t},()=>Array.from({length:e},o));function a(n,r){return n>0&&r>0&&n<e-1&&r<t-1&&i[r][n]>=1&&i[r][n]<=10}!function n(o,d){for(let n=0;n<2;n++)for(let r=0;r<2;r++)o+n<e&&d+r<t&&(i[d+r][o+n]=0);const c=[[0,-2],[0,2],[-2,0],[2,0]];c.sort(()=>Math.random()-.5);for(const[l,s]of c){const u=o+l,m=d+s;if(a(u,m)){let o=0;for(const[n,r]of c){const a=u+n,d=m+r;a>0&&d>0&&a<e-1&&d<t-1&&i[d][a]<=10&&i[d][a]>=1&&o++}(o>=2||u===r.x&&m===r.y)&&n(u,m)}}}(n.x,n.y);for(let n=0;n<e;n++)i[0][n]=o(),i[t-1][n]=o();for(let n=0;n<t;n++)i[n][0]=o(),i[n][e-1]=o();i[n.y][n.x]=0,i[n.y-1][n.x+1]=0,i[n.y-1][n.x]=0,i[n.y-2][n.x]=0,i[r.y][r.x-1]=0,i[r.y][r.x-2]=0,i[r.y-1][r.x-1]=0,i[r.y-2][r.x-1]=0;const d=i.flat();return{layers:[{opacity:1,name:"Tile Layer 1",width:e,data:d,height:t,visible:!0,y:0,x:0,type:"tilelayer",id:1},{opacity:1,name:"Object Layer 1",visible:!0,objects:[{name:"start",width:16,height:16,visible:!0,gid:28,y:16*(n.y-1),x:16*n.x,rotation:0,type:"player",id:1,orientation:2},{name:"end",width:16,height:16,visible:!0,gid:29,y:16*r.y,x:16*r.x,rotation:0,type:"goal",id:2}],draworder:"topdown",y:0,x:0,type:"objectgroup",id:2}],orientation:"orthogonal",tileheight:16,tiledversion:"1.2.4",tilewidth:16,version:1.2,height:t,width:e,renderorder:"right-down",nextlayerid:3,tilesets:[{source:"tileset.tsx",firstgid:1}],infinite:!1,type:"map",nextobjectid:4}}(e,t,{x:2,y:2},{x:o.tw-1,y:o.th-1});return console.table("* *",n.layers[0].data),console.table("* *",e," ",t),console.table("* *",o.tw," ",o.th),n}window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)});let S=!1;function I(){C.removeText("playButton"),C.removeText("titleText"),S=!0,function(e){y={},f=[],!1,!1;for(var t=e.layers[0].data,n=e.layers[1].objects,r=0;r<n.length;r++){var o=n[r],i=A(o);switch(o.type){case"player":y=i}}f=t}(M())}C.startScreen(),function e(){for(b=r(),k+=Math.min(1,(b-E)/1e3);k>d;)k-=d,x();E=b,0,requestAnimationFrame(e,c)}(),document.addEventListener("click",e=>{S||I()},!1),document.addEventListener("keydown",e=>{if(32!==e.keyCode||S)return S&&v(e,e.keyCode,!1);I()},!1),document.addEventListener("keyup",e=>{e.keyCode},!1);n(0),n(2)}]);</script></body></html>